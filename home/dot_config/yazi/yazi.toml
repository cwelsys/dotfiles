"$schema" = "https://yazi-rs.github.io/schemas/yazi.json"

[mgr]
ratio = [1, 2, 3]
sort_by = "natural"
sort_dir_first = true
sort_sensitive = false
sort_reverse = false
sort_translit = false
linemode = "size_only"
show_hidden = true
show_symlink = true
scrolloff = 5
mouse_events = ["click", "scroll", "touch", "move", "drag"]
title_format = "{cwd}"

[plugin]
prepend_fetchers = [
  { id = "git", url = "*", run = "git" },
  { id = "git", url = "*/", run = "git" },
  { id = "mime", url = "*", run = "mime.local", prio = "high" },

]
prepend_previewers = [
  # { url = "*.md", run = 'piper -- CLICOLOR_FORCE=1 glow -w=$w -s=$GLOW_STYLE "$1"' },
  # { url = "*.tar*", run = 'piper --format=url -- tar tf "$1"' },
  { url = "*.csv", run = 'piper -- xan view "$1"' },
  { mime = "text/*", run = 'piper -- bat -p --color=always "$1"' },
  # { url = "*/", run = 'piper -- eza --icons=always --color=always --sort=extension -I "NTUSER*|ntuser*|.DS_Store|.idea|.venv|.vs|__pycache__|cache|debug|.git|node_modules|venv" "$1"' },
  { mime = "application/{*zip,tar,bzip2,7z*,rar,xz,zstd,java-archive}", run = "ouch --archive-icon='üóÑÔ∏è ' --show-file-icons --list-view" },

]
