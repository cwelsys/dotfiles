# https://sw.kovidgoyal.net/kitty/conf/
shell_integration no-rc no-cursor
# ========================================
# THEME & COLORS
# ========================================
include themes/mocha.conf

# ========================================
# TAB BAR
# ========================================
tab_bar_edge       top
tab_bar_min_tabs 1
tab_bar_background      #1e1e2e
macos_titlebar_color background
# active_tab_font_style     bold
# inactive_tab_font_style normal

# Powerline
# tab_bar_style powerline
# tab_powerline_style slanted
# active_tab_font_style bold
# tab_title_template ({index}) {tab.active_oldest_exe} {tab.active_wd.replace('/Users/cwel', '~').replace('/home/cwel', '~')}

# Separator
# tab_bar_style      separator
# tab_separator      ""
# tab_title_template "{fmt.fg._45475a}{fmt.bg.default}{fmt.fg._cdd6f4}{fmt.bg._45475a} ({index} {tab.active_oldest_exe}) {tab.active_wd.replace('/Users/cwel', '~').replace('/home/cwel', '~')} {fmt.fg._45475a}{fmt.bg.default} "
# active_tab_title_template "{fmt.fg._cba6f7}{fmt.bg.default}{fmt.fg._11111b}{fmt.bg._cba6f7} ({index} {tab.active_oldest_exe}) {tab.active_wd.replace('/Users/cwel', '~').replace('/home/cwel', '~')} {fmt.fg._cba6f7}{fmt.bg.default} "

tab_bar_style custom

# ========================================
# FONTS
#
# ========================================
# font_family Fantasque Sans Mono
font_family                     Cartograph CF
bold_italic_font                Cartograph CF Bold Italic
font_features                   CartographCF-Regular +ss02
modify_font                     strikethrough_position 120%
modify_font                     strikethrough_thickness 250%
modify_font                     underline_position 125%
modify_font                     underline_thickness 3px
modify_font                     cell_height 105%
undercurl_style                 thin-dense
#

# italic_font      auto
# bold_font        auto
# bold_italic_font auto
font_size 16

# symbol_map U+e000-U+e00a,U+ea60-U+ebeb,U+e0a0-U+e0c8,U+e0ca,U+e0cc-U+e0d7,U+e200-U+e2a9,U+e300-U+e3e3,U+e5fa-U+e6b1,U+e700-U+e7c5,U+ed00-U+efc1,U+f000-U+f2ff,U+f000-U+f2e0,U+f300-U+f372,U+f400-U+f533,U+f0001-U+f1af0 Symbols Nerd Font
symbol_map U+E000-U+E00D,U+e0a0-U+e0a2,U+e0b0-U+e0b3,U+e0a3-U+e0a3,U+e0b4-U+e0c8,U+e0cc-U+e0d2,U+e0d4-U+e0d4,U+e5fa-U+e62b,U+e700-U+e7c5,U+f000-U+f2e0,U+e200-U+e2a9,U+f400-U+f4a8,U+2665-U+2665,U+26A1-U+26A1,U+f27c-U+f27c,U+F300-U+F313,U+23fb-U+23fe,U+2b58-U+2b58,U+f500-U+fd46,U+e300-U+e3eb,U+21B5,U+25B8,U+2605,U+2630,U+2632,U+2714,U+E0A3,U+E615,U+E62B Symbols Nerd Font Mono

# ========================================
# CURSOR & MOUSE
# ========================================
cursor_trail 3
disable_ligatures cursor
mouse_hide_wait 0

# ========================================
# GENERAL
# ========================================
editor nvim
open_url_with default
url_style single
remember_window_size yes
macos_quit_when_last_window_closed no
confirm_os_window_close 0
scrollback_lines 10000
touch_scroll_multiplier 6.0
copy_on_select yes
focus_follows_mouse yes
enable_audio_bell no
macos_option_as_alt yes
macos_traditional_fullscreen no
macos_show_window_title_in none
enabled_layouts splits,*
listen_on unix:/tmp/mykitty
allow_remote_control yes

window_padding_width 8
# ========================================
# BINDS
# ========================================

map cmd+h no_op
map cmd+k no_op

kitty_mod cmd+shift

map alt+backspace send_text all \x17
map super+backspace send_text all \x15
map super+left send_text all \x01
map super+right send_text all \x05
map shift+enter send_text all \x1b\r
map cmd+s send_text all \x13

map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard
map kitty_mod+r load_config_file

map ctrl+space>r set_tab_title
map ctrl+space>= resize_window reset
map ctrl+space>space layout_action rotate
map ctrl+space>z kitten zoom_toggle.py
map ctrl+space>f kitten hints --customize-processing custom-hints.py
map ctrl+space>d launch --type=background --copy-env kmux detach
map ctrl+space>p launch --type=overlay --copy-env kmux

map cmd+t new_tab_with_cwd
map cmd+w launch --type=background --copy-env kmux close-tab
map ctrl+space>x launch --type=background --copy-env kmux close
map ctrl+space>c launch --type=tab --cwd=current --copy-env

map kitty_mod+l next_tab
map kitty_mod+h previous_tab
map cmd+,                       no_op
map cmd+.                       next_tab
map cmd+,                       previous_tab


map ctrl+space>1 goto_tab 1
map ctrl+space>2 goto_tab 2
map ctrl+space>3 goto_tab 3
map ctrl+space>4 goto_tab 4
map ctrl+space>5 goto_tab 5
map ctrl+space>6 goto_tab 6
map ctrl+space>7 goto_tab 7
map ctrl+space>8 goto_tab 8
map ctrl+space>9 goto_tab 9
map ctrl+space>0 goto_tab 10

map kitty_mod+enter launch --location=split --cwd=current
map kitty_mod+\ launch --type=background --copy-env --cwd=current kmux split v
map ctrl+space>\ launch --type=background --copy-env --cwd=current kmux split v
map kitty_mod+minus launch --type=background --copy-env --cwd=current kmux split h
map ctrl+space>- launch --type=background --copy-env --cwd=current kmux split h

map kitty_mod+left neighboring_window left
map kitty_mod+right neighboring_window right
map kitty_mod+up neighboring_window up
map kitty_mod+down neighboring_window down

map --when-focus-on var:IS_NVIM ctrl+h
map --when-focus-on var:IS_NVIM ctrl+j
map --when-focus-on var:IS_NVIM ctrl+k
map --when-focus-on var:IS_NVIM ctrl+l
map ctrl+h neighboring_window left
map ctrl+j neighboring_window down
map ctrl+k neighboring_window up
map ctrl+l neighboring_window right

map ctrl+space>h neighboring_window left
map ctrl+space>j neighboring_window down
map ctrl+space>k neighboring_window up
map ctrl+space>l neighboring_window right

map alt+h kitten relative_resize.py left 3
map alt+j kitten relative_resize.py down 3
map alt+k kitten relative_resize.py up 3
map alt+l kitten relative_resize.py right 3
map --when-focus-on var:IS_NVIM alt+h
map --when-focus-on var:IS_NVIM alt+j
map --when-focus-on var:IS_NVIM alt+k
map --when-focus-on var:IS_NVIM alt+l

map ctrl+space>shift+h move_window left
map ctrl+space>shift+j move_window down
map ctrl+space>shift+k move_window up
map ctrl+space>shift+l move_window right

map super+f launch --type=overlay --stdin-source=@screen_scrollback fzf --no-sort --no-mouse --exact -i
