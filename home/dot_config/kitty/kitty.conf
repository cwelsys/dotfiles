# https://sw.kovidgoyal.net/kitty/conf/
include current-theme.conf
tab_bar_background #181826
# macos_titlebar_color background
active_tab_background #89b4fa
active_tab_font_style   bold-italic
inactive_tab_font_style normal
# tab_title_max_length 30

background_opacity 0.8
inactive_text_alpha   0.9
# background_blur 20
dynamic_background_opacity yes
hide_window_decorations yes

tab_bar_style custom
# tab_bar_edge top
tab_bar_min_tabs 1

font_size 16
font_family JetBrains Mono
# italic_font Maple Mono Italic
# bold_italic_font Maple Mono Bold Italic
symbol_map U+e000-U+e00a,U+ea60-U+ebeb,U+e0a0-U+e0c8,U+e0ca,U+e0cc-U+e0d7,U+e200-U+e2a9,U+e300-U+e3e3,U+e5fa-U+e6b1,U+e700-U+e7c5,U+ed00-U+efc1,U+f000-U+f2ff,U+f000-U+f2e0,U+f300-U+f372,U+f400-U+f533,U+f0001-U+f1af0 Symbols Nerd Font Mono

cursor_trail 3
disable_ligatures cursor
mouse_hide_wait 0
touch_scroll_multiplier 6.0

shell_integration disabled
editor nvim
open_url_with default
url_style single
remember_window_size yes
macos_quit_when_last_window_closed no
strip_trailing_spaces smart
confirm_os_window_close 0
scrollback_lines 10000
copy_on_select yes
focus_follows_mouse yes
enable_audio_bell no
macos_option_as_alt yes
macos_traditional_fullscreen no
macos_show_window_title_in none
# macos_colorspace displayp3
enabled_layouts splits,*
listen_on unix:/tmp/mykitty
allow_remote_control yes

kitty_mod cmd+shift
map cmd+h no_op
map cmd+k no_op

map alt+backspace send_text all \x17
map super+backspace send_text all \x15
map super+left send_text all \x01
map super+right send_text all \x05
map shift+enter send_text all \x1b\r
map cmd+s send_text all \x13

map cmd+c copy_to_clipboard
map cmd+v paste_from_clipboard
map kitty_mod+r load_config_file
map kitty_mod+/ kitten keymap.py

map --new-mode leader --on-unknown end --on-action end alt+space
map --mode leader esc pop_keyboard_mode

map --mode leader r set_tab_title
map --mode leader = resize_window reset
map --mode leader space layout_action rotate
map --mode leader z kitten zoom_toggle.py
map --mode leader f kitten hints --customize-processing custom-hints.py
map --mode leader d launch --type=background --copy-env kmux detach
map --mode leader p launch --type=overlay --copy-env kmux

map cmd+w kitten klonopin.py close-tab
map cmd+t kitten klonopin.py new-tab
map cmd+shift+t kitten klonopin.py new-tab --local
map --mode leader x kitten klonopin.py close-window
map --mode leader q kitten klonopin.py close-window
map --mode leader shift+p kitten klonopin.py pin
map --mode leader shift+u kitten klonopin.py unpin

map kitty_mod+l next_tab
map kitty_mod+h previous_tab
map cmd+,                       no_op
map cmd+.                       next_tab
map cmd+,                       previous_tab

map --mode leader 1 goto_tab 1
map --mode leader 2 goto_tab 2
map --mode leader 3 goto_tab 3
map --mode leader 4 goto_tab 4
map --mode leader 5 goto_tab 5
map --mode leader 6 goto_tab 6
map --mode leader 7 goto_tab 7
map --mode leader 8 goto_tab 8
map --mode leader 9 goto_tab 9
map --mode leader 0 goto_tab 10

map kitty_mod+enter launch --location=split --cwd=current
map kitty_mod+\ launch --type=background --copy-env --cwd=current kmux split v
map --mode leader \ launch --type=background --copy-env --cwd=current kmux split v
map kitty_mod+minus launch --type=background --copy-env --cwd=current kmux split h
map --mode leader - launch --type=background --copy-env --cwd=current kmux split h

map kitty_mod+left neighboring_window left
map kitty_mod+right neighboring_window right
map kitty_mod+up neighboring_window up
map kitty_mod+down neighboring_window down

map --when-focus-on var:IS_NVIM ctrl+h
map --when-focus-on var:IS_NVIM ctrl+j
map --when-focus-on var:IS_NVIM ctrl+k
map --when-focus-on var:IS_NVIM ctrl+l
map ctrl+alt+shift+super+h neighboring_window left
map ctrl+alt+shift+super+j neighboring_window down
map ctrl+alt+shift+super+k neighboring_window up
map ctrl+alt+shift+super+l neighboring_window right

map --mode leader h neighboring_window left
map --mode leader j neighboring_window down
map --mode leader k neighboring_window up
map --mode leader l neighboring_window right

map alt+h kitten relative_resize.py left 3
map alt+j kitten relative_resize.py down 3
map alt+k kitten relative_resize.py up 3
map alt+l kitten relative_resize.py right 3
map --when-focus-on var:IS_NVIM alt+h
map --when-focus-on var:IS_NVIM alt+j
map --when-focus-on var:IS_NVIM alt+k
map --when-focus-on var:IS_NVIM alt+l

map --mode leader shift+h move_window left
map --mode leader shift+j move_window down
map --mode leader shift+k move_window up
map --mode leader shift+l move_window right

map super+f launch --copy-env --type=overlay --stdin-source=@screen_scrollback fzf --no-sort --no-mouse --exact -i

