# https://sw.kovidgoyal.net/kitty/conf/

# Theme
include themes/mocha.conf
#selection_foreground    #cdd6f4
#selection_background    #585b70
#active_tab_foreground   #1e1e2e
#inactive_tab_background #313244

# Bar
tab_bar_edge top
tab_bar_style powerline
tab_powerline_style slanted
active_tab_font_style bold
#tab_title_template {tab.active_exe}
tab_bar_min_tabs 1
tab_bar_background      #1e1e2e
macos_titlebar_color background

font_family      family='Fantasque Sans Mono' postscript_name=FantasqueSansMono-Regular
bold_font        auto
italic_font      auto
bold_italic_font auto
font_size 17.0
symbol_map U+e000-U+e00a,U+ea60-U+ebeb,U+e0a0-U+e0c8,U+e0ca,U+e0cc-U+e0d7,U+e200-U+e2a9,U+e300-U+e3e3,U+e5fa-U+e6b1,U+e700-U+e7c5,U+ed00-U+efc1,U+f000-U+f2ff,U+f000-U+f2e0,U+f300-U+f372,U+f400-U+f533,U+f0001-U+f1af0 Symbols Nerd Font

disable_ligatures cursor
cursor_trail 3
cursor none

remember_window_size yes
confirm_os_window_close 0
scrollback_lines 10000
touch_scroll_multiplier 6.0
copy_on_select yes
mouse_hide_wait 0
focus_follows_mouse yes
enable_audio_bell no
macos_option_as_alt yes
macos_quit_when_last_window_closed no
macos_traditional_fullscreen no
macos_show_window_title_in none
macos_custom_beam_cursor yes
enabled_layouts splits,stack
listen_on unix:/tmp/mykitty
allow_remote_control yes

kitty_mod cmd+shift
map alt+backspace send_text all \x17
map super+backspace send_text all \x15
map super+left send_text all \x01
map super+right send_text all \x05
map cmd+t new_tab_with_cwd
map cmd+w close_tab
map shift+enter send_text all \x1b\r
map cmd+s send_text all \x13

map kitty_mod+r load_config_file
map kitty_mod+l next_tab
map kitty_mod+h previous_tab
map kitty_mod+m toggle_layout stack
map kitty_mod+z toggle_layout stack
map kitty_mod+enter launch --location=split --cwd=current
map kitty_mod+\ launch --location=vsplit --cwd=current
map kitty_mod+minus launch --location=hsplit --cwd=current
map kitty_mod+left neighboring_window left
map kitty_mod+right neighboring_window right
map kitty_mod+up neighboring_window up
map kitty_mod+down neighboring_window down

# Smart-splits: pass through to nvim when focused
map --when-focus-on var:IS_NVIM ctrl+h
map --when-focus-on var:IS_NVIM ctrl+j
map --when-focus-on var:IS_NVIM ctrl+k
map --when-focus-on var:IS_NVIM ctrl+l
map --when-focus-on var:IS_NVIM alt+h
map --when-focus-on var:IS_NVIM alt+j
map --when-focus-on var:IS_NVIM alt+k
map --when-focus-on var:IS_NVIM alt+l
# Kitty split navigation
map ctrl+h neighboring_window left
map ctrl+j neighboring_window down
map ctrl+k neighboring_window up
map ctrl+l neighboring_window right
# Kitty split resize
map alt+h kitten relative_resize.py left  3
map alt+j kitten relative_resize.py down  3
map alt+k kitten relative_resize.py up    3
map alt+l kitten relative_resize.py right 3

# ctrl+space prefix mode (tmux-style)
map ctrl+space>| launch --location=vsplit --cwd=current --copy-env
map ctrl+space>\ launch --location=vsplit --cwd=current --copy-env
map ctrl+space>- launch --location=hsplit --cwd=current --copy-env
map ctrl+space>c launch --type=tab --cwd=current --copy-env
map ctrl+space>n launch --type=tab --cwd=current --copy-env
map ctrl+space>r set_tab_title
map ctrl+space>x close_window
map ctrl+space>z kitten zoom_toggle.py
map ctrl+space>h neighboring_window left
map ctrl+space>j neighboring_window down
map ctrl+space>k neighboring_window up
map ctrl+space>l neighboring_window right
map ctrl+space>shift+h move_window left
map ctrl+space>shift+j move_window down
map ctrl+space>shift+k move_window up
map ctrl+space>shift+l move_window right
map ctrl+space>f kitten hints --customize-processing custom-hints.py
map ctrl+space>ctrl+r load_config_file
map ctrl+space>ctrl+space send_key ctrl+space
map ctrl+space>1 goto_tab 1
map ctrl+space>2 goto_tab 2
map ctrl+space>3 goto_tab 3
map ctrl+space>4 goto_tab 4
map ctrl+space>5 goto_tab 5
map ctrl+space>6 goto_tab 6
map ctrl+space>7 goto_tab 7
map ctrl+space>8 goto_tab 8
map ctrl+space>9 goto_tab 9
map ctrl+space>0 goto_tab 10
map ctrl+space>d launch --type=overlay --copy-env ~/.config/kitty/scripts/session-detach.sh
map ctrl+space>a launch --type=overlay ~/.config/kitty/scripts/session-manager.sh
map ctrl+space>s launch --type=overlay ~/.config/kitty/scripts/session-save.sh
map ctrl+space>space layout_action rotate
map ctrl+space>t kitten themes
map ctrl+space>w focus_visible_window
map ctrl+space>= resize_window reset
