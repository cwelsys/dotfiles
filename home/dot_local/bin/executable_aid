#!/bin/bash

if [ $# -eq 0 ]; then
    find /Applications \
        /System/Applications \
        /System/Applications/Utilities \
        ~/Applications \
        -maxdepth 2 -name "*.app" -prune -exec basename {} .app \; 2>/dev/null | sort -u
else
    app_path=$(mdfind "kMDItemKind == 'Application'" | grep -i "/$*.app$" | head -n 1)
    if [ -n "$app_path" ]; then
        mdls -name kMDItemCFBundleIdentifier -r "$app_path"
    else
        echo "No application found for: $*"
    fi
fi
